# identity/src/main/resources/application-docker.properties

spring.profiles.active=docker

# Database connection details (Same as other services)
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

security.jwt.secret=${JWT_SECRET}
security.jwt.expiration=900

# CRUCIAL: Configure the default schema for the Identity Service's JPA entities
# This is how the Identity Service knows to use the 'identity' schema.
spring.jpa.properties.hibernate.default_schema=identity

# Disable DDL/Migration tools
spring.jpa.hibernate.ddl-auto=none
spring.flyway.baseline-on-migrate=true
spring.flyway.enabled=true
spring.flyway.schemas=identity
spring.flyway.locations=filesystem:/app/infra_host_mount/migrations/identity
spring.flyway.create-schemas=true
spring.liquibase.enabled=false

spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect