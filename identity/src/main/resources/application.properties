# identity/src/main/resources/application-docker.properties

spring.profiles.active=docker

# Database connection details (Same as other services)
spring.datasource.url=${DATABASE_URL}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver

# CRUCIAL: Configure the default schema for the Identity Service's JPA entities
# This is how the Identity Service knows to use the 'identity' schema.
spring.jpa.properties.hibernate.default_schema=identity

# Disable DDL/Migration tools
spring.jpa.hibernate.ddl-auto=none
spring.flyway.enabled=true
spring.flyway.schemas=identity
spring.flyway.locations=filesystem:../infra/migrations/identity
spring.flyway.create-schemas=true
spring.liquibase.enabled=false